<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="NutritionApp.MVVM.Views.FoodDetailPage"
             xmlns:viewmodel="clr-namespace:NutritionApp.MVVM.ViewModels" 
             x:DataType="viewmodel:FoodDetailViewModel"
             xmlns:model="clr-namespace:NutritionApp.MVVM.Models"
             xmlns:customComponents="clr-namespace:NutritionApp.MVVM.Views"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             BackgroundColor="{DynamicResource White}"
             Title="FoodDetailPage">

    <VerticalStackLayout Margin="10,5" Spacing="10">
        <Label Text="{Binding FoodItem.Name}" FontSize="Medium" HorizontalOptions="Center"></Label>
        <HorizontalStackLayout>
            <Border>
                <Entry Text="{Binding Amount}"></Entry>
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="5"></RoundRectangle>
                </Border.StrokeShape>
            </Border>
            <Label Text="Gram" Margin="5,0" VerticalOptions="Center" FontSize="Small"></Label>
        </HorizontalStackLayout>

        <toolkit:Expander IsExpanded="True">
            <toolkit:Expander.Header>
                <Label FontSize="Small" Text="Primary Nutrients"></Label>
            </toolkit:Expander.Header>
            <VerticalStackLayout>
                <customComponents:CustomProgressBar
                    Title="{Binding Calories.CurrentItemValue, StringFormat='Kcal {0}'}"
                    ProgressA="{Binding Calories.NutritionPotentialProgress}"
                    ProgressB="{Binding Calories.NutritionProgress}"
                    ProgressBarAColor="LightGrey"
                    ProgressBarBColor="LimeGreen"/>
                <customComponents:CustomProgressBar 
                    Title="{Binding Protein.CurrentItemValue, StringFormat='Protein {0}g'}"
                    ProgressA="{Binding Protein.NutritionPotentialProgress}"
                    ProgressB="{Binding Protein.NutritionProgress}"
                    ProgressBarAColor="LightGrey"
                    ProgressBarBColor="LimeGreen"/>
                <customComponents:CustomProgressBar 
                    Title="{Binding Carbs.CurrentItemValue, StringFormat='Carbs {0}g'}" 
                    ProgressA="{Binding Carbs.NutritionPotentialProgress}"
                    ProgressB="{Binding Carbs.NutritionProgress}" 
                    ProgressBarAColor="LightGrey" 
                    ProgressBarBColor="LimeGreen"/>
                <customComponents:CustomProgressBar 
                    Title="{Binding Fat.CurrentItemValue, StringFormat='Fat {0}g'}" 
                    ProgressA="{Binding Fat.NutritionPotentialProgress}" 
                    ProgressB="{Binding Fat.NutritionProgress}" 
                    ProgressBarAColor="LightGrey" 
                    ProgressBarBColor="LimeGreen"/>
            </VerticalStackLayout>
        </toolkit:Expander>

        <toolkit:Expander IsExpanded="True">
            <toolkit:Expander.Header>
                <Label FontSize="Small" Text="Vitamins"></Label>
            </toolkit:Expander.Header>
            <VerticalStackLayout>
                <customComponents:CustomProgressBar 
                     Title="{Binding VitaminA.CurrentItemValue, StringFormat='Vitamin A {0}g'}" 
                     ProgressA="{Binding VitaminA.NutritionPotentialProgress}" 
                     ProgressB="{Binding VitaminA.NutritionProgress}" 
                     ProgressBarAColor="LightGrey" 
                     ProgressBarBColor="LimeGreen"/>
                <customComponents:CustomProgressBar 
                    Title="{Binding VitaminD.CurrentItemValue, StringFormat='Vitamin D {0}g'}" 
                    ProgressA="{Binding VitaminD.NutritionPotentialProgress}" 
                    ProgressB="{Binding VitaminD.NutritionProgress}" 
                    ProgressBarAColor="LightGrey" 
                    ProgressBarBColor="LimeGreen"/>
                <customComponents:CustomProgressBar 
                    Title="{Binding VitaminE.CurrentItemValue, StringFormat='Vitamin E {0}g'}" 
                    ProgressA="{Binding VitaminE.NutritionPotentialProgress}" 
                    ProgressB="{Binding VitaminE.NutritionProgress}" 
                    ProgressBarAColor="LightGrey" 
                    ProgressBarBColor="LimeGreen"/>
                <customComponents:CustomProgressBar 
                    Title="{Binding VitaminC.CurrentItemValue, StringFormat='Vitamin C {0}g'}" 
                    ProgressA="{Binding VitaminC.NutritionPotentialProgress}" 
                    ProgressB="{Binding VitaminC.NutritionProgress}" 
                    ProgressBarAColor="LightGrey" 
                    ProgressBarBColor="LimeGreen"/>
                <customComponents:CustomProgressBar 
                     Title="{Binding VitaminK.CurrentItemValue, StringFormat='Vitamin K {0}g'}" 
                     ProgressA="{Binding VitaminK.NutritionPotentialProgress}" 
                     ProgressB="{Binding VitaminK.NutritionProgress}" 
                     ProgressBarAColor="LightGrey" 
                     ProgressBarBColor="LimeGreen"/>
            </VerticalStackLayout>
        </toolkit:Expander>

        <Button Margin="0,5" Command="{Binding AddFoodCommand}" Text="ADD"></Button>

    </VerticalStackLayout>
</ContentPage>